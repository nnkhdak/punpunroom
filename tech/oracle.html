<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<meta charset="UTF-8" />
	<base href="../" />
	<link rel="stylesheet" href="asset/style.css" />
	<style>
		/* 画面毎設定 */
		.width1 {
			width: 100px;
		}

		.width2 {
			width: 150px;
		}

		code {
			white-space: pre;
		}

		main ol li {
			margin-top: 1em;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="asset/script.js"></script>
	<script src="asset/env-checker.js"></script>
	<title></title>
</head>

<body>
	<noscript>
		<p>JavaScriptがサポートされていないため表示できません。</p>
	</noscript>
	<div class="container" style="display: none;">
		<header class="sticky">
			<div>
				<div class="logo">
					<a href="index.html">たいとる</a>
				</div>
				<div></div>
				<div class="info">
					<span style="display: block;">XXXX さん</span>
					<a href="index.html">ログアウト</a>
				</div>
			</div>
			<nav></nav>
		</header>
		<div class="middle">
			<nav></nav>
			<main>
				<h3>Oracle</h3>
				<ol>
					<li>
						自分のテーブルにMERGE<br />
						<code>MERGE INTO <i>テーブル名</i> USING dual
ON <strong>(</strong><i>項目</i> = <i>値</i><strong>)</strong>
WHEN MATCHED THEN UPDATE SET
	  項目1</i> = <i>値1</i>
	, 項目2</i> = <i>値2</i>
WHEN NOT MATCHED THEN INSERT (
	  <i>項目1</i>
	, <i>項目2</i>
) VALUES (
	  <i>値1</i>
	, <i>値2</i>
)</code>
					</li>
					<li>
						テーブルの完全削除<br />
						<source>DROP TABLE <i>テーブル名</i> CASCADE CONSTRAINTS PURGE;</source>
					</li>
					<li>
						XレコードのSELECT<br />
						<source>SELECT LEVEL AS cnt FROM DUAL CONNECT BY LEVEL &lt;= 3</source>
					</li>
					<li>
						sqlplusで接続<br />
						<source>sqlplus64 <i>ユーザ名</i>@<i>サーバ名</i></source>
					</li>
					<li>
						折り返し行？を設定<br />
						<source>SET LINE <i>行数</i>;</source>
					</li>
					<li>
						テーブル名を表示<br />
						<source>SELECT * FROM all_tables ORDER BY TABLE_NAME;</source><br />
						<source>SELECT * FROM user_tables ORDER BY TABLE_NAME;</source>
					</li>
					<li>
						テーブル構造を表示<br />
						<source>DESC <i>テーブル名</i></source><br />
						<source>SELECT * FROM all_tab_columns</source><br />
						<source>SELECT * FROM user_tab_columns</source>
					</li>
					<li>
						シノニムを表示<br />
						<source>SELECT * FROM all_synonyms</source><br />
						<source>SELECT * FROM user_synonyms</source>
					</li>
					<li>
						tnsnames.ora<br />
						<code>alias =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = myserver.mycompany.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = orcl)
    )
  )</code>

					</li>
					<li>
						tnsnames.oraに定義を複数<br />
						<code>alias1 =
	(DESCRIPTION = ......)
alias2 =
	(DESCRIPTION = ......)</code>
					</li>
					<li>
						AmazonLinux2にインストールし設定<br />
						<br />
						/etc/environmentに以下を追記<br />
						<code>LANG=ja_JP.UTF-8
NLS_LANG=Japanese_Japan.AL32UTF8
ENVIRONMENT=development<strong> &lt;- これは違う目的</strong></code><br />
						<br />
						/etc/profile.d/oracle.shを作成(ココに配置することで/etc/profileに記述したときと同じ扱い)<br />
						<code>export NLS_LANG=Japanese_Japan.AL32UTF8
export LD_LIBRARY_PATH=/opt/oracle/instantclient_19_6
export PATH=$PATH:$LD_LIBRARY_PATH</code><br />
						<br />
						systemctl edit httpd.service(コレで保存するとcat /etc/systemd/system/httpd.service.d/override.confに保存した扱い)<br />
						<code>[Service]
EnvironmentFile=/etc/environment</code>
					</li>
				</ol>
			</main>
			<aside></aside>
		</div>
		<footer class="sticky">
			<div></div>
			<small>株式会社ふったー</small>
		</footer>
	</div>
</body>
</html>