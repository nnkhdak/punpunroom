<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<base href="../">
	<link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>

<body>
	<noscript>
		<p>JavaScriptがサポートされていないため表示できません。</p>
	</noscript>
	<header></header>
	<main style="display: none;">
		<div id="mainLeft"></div>
		<div id="mainCenter">
			<h2>JavaScript</h2>
			<ol>
				<li>
					<details open>
						<summary>QueryStringを連想配列化</summary>
						<code>const urlSearchParams = new URLSearchParams(window.location.search);
const params = Object.fromEntries(urlSearchParams.entries());</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>ヒアドキュメント</summary>
						<code>const HERE = `
select
	*
FROM
	dual
`;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>文字列を配列として繰り返す</summary>
						<code>Array(10).fill('abc')</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>文字列をユニーク</summary>
						<code>Array.from(new Set(配列));</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>エラーでメッセージとコードを送信</summary>
						<code>throw new Error('ErrorMessage',{ cause: 404 });</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>fetchでstatusコードとresponseボディを返す</summary>
						<code>fetch(url, opt)
.then(function(response) {
	if (response.ok) {
		return response.text();
	}

	return response.text().then(function(message){
		return Promise.reject({status: response.status, message: message});
	});
}).then(function(data) {
	// 正常終了の際のコード
}).catch(function(error) {
	// 異常終了の際のコード
});</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列かどうか</summary>
						<code>return ((value instanceof Object) && !(value instanceof Array)) ? true : false;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列の長さ</summary>
						<code>Object.keys(value).length;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列のディープコピー</summary>
						<code>var cloned = Object.assign(original);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>配列の末尾に追加</summary>
						<code>const result = [];
result.push(1);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>配列を結合</summary>
						<code>let array1 = [1, 2];
let array2 = [3, 4];
let array3 = array1.concat(array2);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>QueryStringを使いやすく</summary>
						<code>$.urlParam = function (name) {
	var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.search);
	return (results !== null) ? results[1] || 0 : false;
}
type = $.urlParam('hoge');</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>タグをまるまる置き換える</summary>
						<code>var targetNode = document.getElementById('hoge');
var newNode = document.createElement('div');
targetNode.parentNode.replaceChild(newNode, targetNode);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>タグ内の子要素を削除</summary>
						<code>document.querySelectorAll('header')
.forEach((ele) => {
	var clone = ele.cloneNode(false);
	ele.parentNode.replaceChild(clone, ele);
});</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのUserAgent</summary>
						<code>document.write(navigator.userAgent);</code>
						<script>
							document.write(navigator.userAgent);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのnavigator.appName</summary>
						<code>document.write(navigator.appName);</code>
						<script>
							document.write(navigator.appName);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのnavigator.appVersion</summary>
						<code>document.write(navigator.appVersion);</code>
						<script>
							document.write(navigator.appVersion);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>ウェーブダッシュ</summary>
						<code>String.fromCharCode(0x301C);</code>
						<script>
							String.fromCharCode(0x301C);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>fetchでダウンロード</summary>
						<code>fetch("http://example.com/ExportExcel", {
	method: 'GET',
	headers: new Headers({
		"Authorization": "Bearer " + token
	})
})
	.then(response => response.blob())
	.then(blob => {
		var url = window.URL.createObjectURL(blob);
		var a = document.createElement('a');
		a.href = url;
		a.download = "filename.xlsx";
		document.body.appendChild(a);
		a.click();
		a.remove();
	});</code>
					</details>
				</li>
			</ol>
		</div>
		<div id="mainRight"></div>
	</main>
	<footer></footer>
</body>
<script src="assets/script.js"></script>

</html>