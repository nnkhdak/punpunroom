<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<base href="../">
	<link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>

<body>
	<noscript>
		<p>JavaScriptがサポートされていないため表示できません。</p>
	</noscript>
	<header></header>
	<main style="display: none;">
		<div id="mainLeft"></div>
		<div id="mainCenter">
			<h2>JavaScript</h2>
			<ol>
				<li>
					<details open>
						<summary>URLをparseする</summary>
						<code>var parse = new URL(location.href);</code>
						<p>以下のような情報が取得できる</p>
<table>
	<thead>
		<tr><th>host</th><td>www.hogehoge.com</td></tr>
		<tr><th>hostname</th><td>www.hogehoge.com</td></tr>
		<tr><th>href</th><td>https://www.hogehoge.com/abcd.html?name=abc&age=123</td></tr>
		<tr><th>origin</th><td>https://www.hogehoge.com</td></tr>
		<tr><th>pathname</th><td>/abcd.html</td></tr>
		<tr><th>protocol</th><td>https:</td></tr>
		<tr><th>search</th><td>?name=abc&age=123</td></tr>
	</thead>
</table>
					</details>
				</li>
				<li>
					<details open>
						<summary>QueryStringを連想配列化</summary>
						<code>const hash = Object.fromEntries(new URLSearchParams(location.search).entries());</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列をQueryString化</summary>
						<code>const str = new URLSearchParams({
		foo: 'bar',
		baz: 'boom',
		cow: 'milk',
		php: 'hypertext processor'
	}).toString();</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列かどうか</summary>
						<code>return ((value instanceof Object) && !(value instanceof Array)) ? true : false;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列の長さ</summary>
						<code>Object.keys(value).length;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>連想配列のディープコピー</summary>
						<code>var cloned = Object.assign({}, original);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>配列の末尾に追加</summary>
						<code>const result = [];
result.push(1);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>配列を結合</summary>
						<code>let array1 = [1, 2];
let array2 = [3, 4];
let array3 = array1.concat(array2);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>文字列を配列として繰り返す</summary>
						<code>Array(10).fill('abc')</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>文字列をユニーク</summary>
						<code>Array.from(new Set(配列));</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>fetchでstatusコードとresponseボディを返す</summary>
						<code>fetch(url, opt)
.then(function(response) {
	if (response.ok) {
		return response.text();
	}

	return response.text().then(function(message){
		return Promise.reject({status: response.status, message: message});
	});
}).then(function(data) {
	// 正常終了の際のコード
}).catch(function(error) {
	// 異常終了の際のコード
});</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>fetchでダウンロード</summary>
						<code>fetch("http://example.com/ExportExcel", {
	method: 'GET',
	headers: new Headers({
		"Authorization": "Bearer " + token
	})
})
	.then(response => response.blob())
	.then(blob => {
		var url = window.URL.createObjectURL(blob);
		var a = document.createElement('a');
		a.href = url;
		a.download = "filename.xlsx";
		document.body.appendChild(a);
		a.click();
		a.remove();
	});</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>エラーでメッセージとコードを送信</summary>
						<code>throw new Error('ErrorMessage',{ cause: 404 });</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>ヒアドキュメント</summary>
						<code>const HERE = `
SELECT
	*
FROM
	dual
`;</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>数値か判定</summary>
						<code>(typeof value === 'number' && isFinite(value)</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>タグをまるまる置き換える</summary>
						<code>var targetNode = document.getElementById('hoge');
var newNode = document.createElement('div');
targetNode.parentNode.replaceChild(newNode, targetNode);</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>タグ内の子要素を削除</summary>
						<code>document.querySelectorAll('header').forEach((ele) => {
	var clone = ele.cloneNode(false);
	ele.parentNode.replaceChild(clone, ele);
});</code>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのUserAgent</summary>
						<code>document.write(navigator.userAgent);</code>
						<script>
							document.write(navigator.userAgent);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのnavigator.appName</summary>
						<code>document.write(navigator.appName);</code>
						<script>
							document.write(navigator.appName);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>現在ブラウザのnavigator.appVersion</summary>
						<code>document.write(navigator.appVersion);</code>
						<script>
							document.write(navigator.appVersion);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>ウェーブダッシュ</summary>
						<code>String.fromCharCode(0x301C);</code>
						<script>
							String.fromCharCode(0x301C);
						</script>
					</details>
				</li>
				<li>
					<details open>
						<summary>copyrightなど</summary>
						<code>&amp;copy;</code>
					</details>
				</li>
			</ol>
		</div>
		<div id="mainRight"></div>
	</main>
	<footer></footer>
</body>
<script src="assets/script.js"></script>

</html>